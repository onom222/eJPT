Banner Grabbing
・banner grabbingは、ペンテスターがターゲットのOSや開いているポート上で動作しているサービスに関する情報を列挙するために使う情報収集
・banner grabbingの主な目的は、特定のポートで動作しているサービスとそのサービスのバージョンを識別すること
・banner grabbingは以下の手法で実施できる
1) nmapでサービスバージョンと検出スキャンを行う
2) netcatで開いているポートに接続する
3) サービスが認証をサポートしている場合、そのサービスに認証して情報を取得する

・従来のnmapサービスバージョン検出スキャンでは、ターゲットシステムで実行されているサービスの正確なバージョンに関する正確な情報が明かされないことがあるので、
その場合は、以下のコマンドで確認する。
nmap -sV --script=banner targetIP

Nmap scriptによる脆弱性スキャン
・以下のコマンドでnmapの使えるスクリプトを確認する
ls -al /usr/share/nmap/scripts
・webページのソースコードを確認できる。
→windowsは右クリック
→macは、ctrl+クリック
・CGIは、シェルショックに対して脆弱な可能性がある
→shellshockは、bashバージョン1.0.3~4.3に影響する脆弱性であり、攻撃者が悪意のあるHTTPヘッダーを挿入することで、linuxターゲット上でリモートからコマンドを実行できる

・以下のコマンドを使用すると、ターゲット上でshell scriptに脆弱かどうを確認できる
nmap -sV -p 80 --script=http-shellshock "http-shellshock.uri=/getttime.cgi" targetIP

・以下のコマンドを使うと特定のポートでの脆弱性があるかどうかを調査できる
nmap --script vuln -p targetIP

・以下のコマンドを使うと、アクセスできる脆弱性スキャンスクリプトのコレクションを表示できる
ls -al /usr/share/nmap/scripts | grep vuln

MSFによる脆弱性スキャン
