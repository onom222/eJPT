persistence
サービス経由でのpersistence
・永続化とは、攻撃者がシステムの再起動、クレデンシャル情報の変更、その他のアクセス遮断につながる中断が発生しても、ターゲットへの
アクセスを維持するために使用する技術
・永続化に使用される技術は、正規のコードを置き換えたり乗っ取ったり、スタートアップコードを追加するなど、攻撃者がシステム上で足場を維持できるようにする
あらゆるアクセス、動作、設定変更が含まれる。
・最初の足場を得るだけでは不十分であり、ターゲットへの永続的なアクセスを設定し、維持する必要がある。

demo サービスによる永続性

demo RDP経由の維持


Linuxの永続性
・Linuxは、通常、サーバー用のOSとして展開されるため、Linuxサーバーは、一般的にSSHなどのサービス/プロトコルを通してリモートアクセスされる。
・ターゲットのLinuxシステムでSSHが有効化、稼働している場合、SSHの設定を利用して永続的なアクセスを確立できる。
・多くのLinuxサーバーでは、SSHサービスで鍵ベース認証が有効になっており、ユーザはパスワードなしでリモートログインできる
・攻撃者が一度linuxシステムへのアクセスを得た後に、特定のユーザのSSH秘密鍵を自分のマシンに転送し、以後は、その秘密鍵を使って認証、アクセスを継続的に行うことが可能

Cronジョブによる永続化
・Linuxは、Cronと呼ばれるユーティリティを使ってタスクスケジューリング（自動実行）を実装している。
・Cronは時間ベースのサービスであり、指定されたスケジュールに基づいて、アプリケーションやスクリプト、コマンドを繰り返し、実行する
・Cronジョブとは、Cronを利用して、繰り返し実行されるように設定されたアプリケーションやスクリプトのこと
・攻撃者は、この機能を利用して、一定間隔で特定のコマンドやスクリプトを実行し、ターゲットシステムへの永続的アクセスを維持できる。
