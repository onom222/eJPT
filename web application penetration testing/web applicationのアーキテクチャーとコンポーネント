web applicationアーキテクチャー
・webアプリケーションアーキテクチャとは、ウェブアプリケーションを構築するために使用されるコンポーネントや技術の構造、配置のこと
・アプリケーションの各部分がどのように連携して、機能を提供し、ユーザー要求を処理し、データを管理するかを定義する。
・適切に設計されたwebアプリケーションアーキテクチャは、拡張性、保守性、そしてセキュリティを確保するために極めて重要
・webアプリケーションのセキュリティ評価を行う前に、ウェブアプリケーションがどのようなアーキテクチャーで動作しているのかを理解することが重要
この知識によりどこに、どのように脆弱性や設定ミスが存在し、それを悪用できるかをより深く理解できるようになる

クライアントサーバーモデル
・web applicationは一般的にクライアントサーバーモデルに基づいて構築される
このアーキテクチャでは、webアプリケーションは主に、次の2つの主要なコンポーネントに分かれる
クライアント
・クライアントは、ユーザーインターフェースとユーザーがウェブアプリケーションとやり取りする部分を指す
・これはユーザーがブラウザを通して、アクセスするアプリケーションのフロントエンド
・クライアントの役割
　→webページの表示
　→ユーザー入力の処理
　→データ取得や処理のためにサーバーへリクエスト

サーバー
・サーバーはウェブアプリケーションのバックエンドをさす
・サーバーの役割
→クライアントからのリクエスト処理
→アプリケーションのビジネスロジック
→データベースや他のサービスと通信
→クライアントに返すレスポンスを生成

web applicationの構成要素
要素　　　　　　　　　　　　　　　　　　　　　　　機能
UI　　　　　　　　　　　　　　　　　　　ユーザーが見て操作するウェブアプリケーションの視覚的な部分
　　　　　　　　　　　　　　　　　　　　ページ、フォーム、メニュー、ボタン、その他のインタラクティブシェル要素などが含まれる
クライアントサイドのテクノロジー　　　　HTML、CSS、JavaScriptなどのクライアント側技術
　　　　　　　　　　　　　　　　　　　　UIを構築し、ブラウザ内でユーザーの操作を処理するために使用される
サーバー側のテクノロジー　　　　　　　　PHP,python,Java,Rubyなどのサーバー側のプログラミング言語やフレームワーク
　　　　　　　　　　　　　　　　　　　　アプリのビジネスロックを実装し、クライアントからのリクエスト処理、DBアクセス、動的コンテンツ生成に使用される
データベース　　　　　　　　　　　　　　ユーザー情報、設定、コンテンツなど、webアプリケーションのデータを保存する・管理する
　　　　　　　　　　　　　　　　　　　　アプリが動作するために必要なあらゆるデータを保持する
アプリケーションのロジック　　　　　　　アプリケーションの動作ルールや処理手順を示す部分
　　　　　　　　　　　　　　　　　　　　ユーザー認証、データ検証、セキュリティチェック、ビジネスルールなどを担当する
webサーバー　　　　　　　　　　　　　　クライアントからのリクエストを受け取り、静的ファイルを提供する
　　　　　　　　　　　　　　　　　　　　webアプリの最初の窓口となるサーバー
アプリケーションのサーバー　　　　　　　サーバー側コードを実行し、クライアントリクエスト動的な処理を行う
　　　　　　　　　　　　　　　　　　　　データベースと通信し、ビジネスロジックを実行し、動的コンテンツを生成する

クライアント側の処理
・クライアント側の処理とは、ユーザーのデバイス上でタスクや計算を実行することを指し、主に、ユーザーのwebブラウザ内で行われる
・クライアント側とは、webアプリケーションの「ユーザー側の部分」のことで、ブラウザやユーザーインターフェースが存在する領域を意味する
・クライアント処理にはいくつかの制限がある
1) 機密性の高い処理や重要な操作には向かない
2) クライアン側のコードはユーザーや攻撃者に容易に改竄される恐れがあるため
・クライアント側処理の特徴
1) UI
・クライアント側の処理は、即時のユーザー操作やフィードバックが必要なタスクに最適
・データをサーバーへ送受信する必要がないため、反応が速い
2) レスポンスの良いユーザー体験
・処理がユーザー端末で行われるため、動きがスムーズで応答性の高いユーザー体験を提供できる
3) JavaScript
・JavaScriptは、クライアント側処理に使われる主要な言語
・開発者はJavaScriptを利用して：
→Webページの内容を操作する
→ユーザー操作を処理する
→サーバーを介さずに入力チェックなどの処理を行う
4) dataバリデーション
・クライアント側バリデーションにより、ユーザー入力がサーバーに送信される前に必要な条件を満たしているかを確認できる
・これにより不要なサーバーリクエストを減らすことができる

サーバー処理
・サーバー処理の主な特徴
1) データ処理
・サーバー側処理は、機密データの取り扱い、複雑な計算、データベースや外部サービスとのやり取りといったタスクに最適
2) セキュリティ
・サーバー側のコードは信頼されたサーバー上で実行されるため、ユーザー側で実行されるクライアント側処理よりも安全
・クライアント側コードのようにユーザーや攻撃者に簡単に改竄、盗聴されにくい点がメリット
3) サーバーサイド言語
・サーバー側処理には、以下のようなプログラミング言語がよく使用される
→PHP
→Python
→Java
→Ruby
→その他のサーバーサイド言語
4) データ保存
・サーバー側処理により、データベースやその他のストレージシステムで機密データを安全に保存、管理することができる。

通信とデータの流れ
・ウェブアプリケーションは、インターネット上でHTTPを使って通信する
・ユーザーがリンクをクリックしたり、フォームを送信したり、ウェブアプリケーションとやり取りを行うと、クライアントがHTTPリクエストをサーバーへ送信する
・サーバーはこのリクエスト処理し、必要に応じてデータベースと通信し、必要な処理を実行し、HTTPレスポンスを生成する
・生成されたレスポンスはクライアントへ返され、クライアントがその内容を描画して、ユーザーに表示する

webアプリケーションテクノロジー
webアプリケーション技術
・web技術の理解は、web開発、webアプリケーションセキュリティ、webアプリケーションのセキュリティテスト/ペンテストに関わる全ての人にとって不可欠
・webアプリケーションのペンテスターとして働く場合、webアプリを構成する基盤技術と頻繁にやり取りし、それらを評価し、場合によっては悪用する

クライアント側の技術
・HTMLは、webページの内容を構造化し、定義するためのマークアップ言語で、UIのレイアウトや構造を作るための土台を提供する
・CSSは、webページの見た目を定義するために使われる。色や、フォント、レイアウトその他のUIの視覚的要素を開発者がコントロールできる
・JavaScriptは、webアプリケーションにインタラクティビティを与えるスクリプト言語
1) 動的でレスポンシブなUI要素の作成
2) ユーザー操作の処理
3) クライアント側のバリデーションを実行する
・Cookiesとローカルストレージは、ユーザーのブラウザ内に少量のデータを保存するためのクライアント側の仕組み
1) セッション管理
2) ユーザー設定の記憶

サーバー側技術
web server
・webサーバーは、クライアント（webブラウザ）から送られるHTTPリクエストの受信と応答を担当している、
・また、webアプリケーションのファイルをホスティングし、リクエストを処理して、クライアントへレスポンスを返す
1) apache2
2) Nginx
3) microsoftIIS

application server
・アプリケーションサーバーは、webアプリケーションのビジネスロジックを実行する
・ユーザーリクエストの処理、データベースへのアクセス、動的コンテンツの生成などを行い、それをwebサーバーがクライアントに返す

database server
・データベースサーバーは、webアプリケーションのデータ保存や管理を行う
・ユーザー情報、コンテンツ、設定情報などアプリケーションに必要なデータを保持する
1) MySQL
2) PostgreSQL
3) MSSQL
4) Oracle

サーバーサイドスクリプト言語
・サーバーサイドスクリプト言語は、サーバー側の処理行うために使用される
・これらの言語はデータベースとやりとりして、入力確認（バリデーション）を実行し、クライアントに送る動的コンテンツを生成する

通信とデータの流れ
・webアプリケーションはHTTPを使ってインターネット上で通信を行う
・ユーザーがリンクをクリックしたり、フォームを送信したりしてアプリケーションとやりとりすると、クライアント（ブラウザ）はHTTPリクエストをサーバーに送る
・サーバーはリクエストを処理し、必要であればデータベースとやりとりし、必要な処理を実行して、HTTPレスポンスを生成する
・そのレスポンスは、クライアントへ返され、クライアント（ブラウザ）が内容を描画してユーザーに表示する

データ交換
・データ交換とは、異なるコンピュータシステムやアプリケーション間でデータをやりとりし、通信や情報共有を可能にするプロセスを指す
・これは現代のコンピューティングにおける基本的な概念で、異なるシステム、プラットフォーム、技術面で相互運用性やデータ共有を実現する
・データ交換には、データをある形式から別の形式に変換し、受信側のシステムに適合させるプロセスが含まれる
・これにより、データ構造、プログラミング言語、OSなどが異なっていても、受信側が正しくデータを解釈して、活用できるようになる

APIs
・APIsは、異なるソフトウェアシステム同士が相互にやりとりし、データを交換できるようにする仕組み
・webアプリケーションはAPIを使用して、外部サービスと連携したり、データ共有したり、他のアプリケーションへ機能を提供したりする

データ交換プロトコル
1) JSON(java script object notion)
・JSONは、軽量で広く使われているデータ交換フォーマットで、人間とコンピュータのどちらにとっても読み書きが容易です
・JavaScriptの構文に基づいており、サーバーとwebアプリケーション間でデータを送受信する際に、XMLの代替として主に使用される

2) XML
・XMLはタグを使ってデータ構造を定義する多用途なデータ交換フォーマット
・ユーザーは独自のタグを作成でき、複雑な階層構造を表現できる
・XMLは以下の用途で使用される
1) 設定ファイル
2) webサービス
3) 異なるシステム間でのデータ交換

3) REST
・RESTは、データ交換のために標準的なHTTPメソッド(GET,POST,PUT,DELETE)を使用するソフトウェアアーキテクチャスタイル
・web apiを作成する際によく使用され、アプリケーション同士がインターネット上でやりとりする仕組み

4) SOAP(smple object access protocol)
・SOAPは、webサービスの実装において、構造化された情報交換するためのプロトコル
・XMLをデータ交換フォーマットとして使用し、異なるシステム間で通信するための標準化された方法を提供する

セキュリティテクノロジー
・認証は、ユーザーの身元を検証する仕組み
・許可は、ユーザーの役割や権限に基づいて、webアプリケーションのどの部分にアクセスできるかを制御できる仕組み
・SSLやTLSはクライアントとサーバー間で送信されるデータを暗号化する技術
→これにより安全な通信とデータ保護を実現できる
・CDN(content delivery networks)は、画像、CSSファイル、java Scriptライブラリなどの静的コンテンツを世界中に配置された複数のサーバーへ配信するために利用される
これにより、webアプリケーションのパフォーマンスと信頼性が向上する
・webアプリケーションはしばしば、サードパーティのライブラリやフレームワークを活用して、開発のスピードを上げたり、高度な機能をアクセスしたりする

